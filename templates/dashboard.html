<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Secure Cloud Storage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1443.061 1249.993' width='48px' height='48px' class='google-drive-logo'%3E%3Cpath fill='%233777e3' d='M240.525 1249.993l240.492-416.664h962.044l-240.514 416.664z'/%3E%3Cpath fill='%23ffcf63' d='M962.055 833.329h481.006L962.055 0H481.017z'/%3E%3Cpath fill='%2311a861' d='M0 833.329l240.525 416.664 481.006-833.328L481.017 0z'/%3E%3C/svg%3E">
    <script type="module" src="{{ url_for('static', filename='js/dashboard.js') }}?v=1"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <div class="container">
        <header class="d-flex justify-content-between align-items-center mt-4">
            <h1>Welcome, {{ username }}</h1>
            <button id="logout-btn" class="btn btn-danger">Switch Account/Log Out</button>
        </header>

        <div class="file-management mt-4">
            <h2>Files</h2>
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="search-files" placeholder="Search files" aria-label="Search files">
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Uploader</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="file-list">
                    <!-- File list will be populated here -->
                </tbody>
            </table>           
            <!-- File upload form -->
            <form id="upload-btn" class="mb-3">
                <input type="hidden" id="user-email" value="{{ session['email'] }}">
                <input type="file" name="file" id="file" class="form-control" required>
                <button type="submit" class="btn btn-primary mt-2">Upload File</button>
            </form>
            <div class="d-flex justify-content-between mt-2">
                <button id="prev-page-btn" class="btn btn-secondary">&laquo; Prev</button>
                <span id="current-page" class="align-self-center"></span>
                <button id="next-page-btn" class="btn btn-secondary">Next &raquo;</button>
            </div>   
        </div>

        <div class="user-management mt-4">
            <h2>User Management</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody id="user-list">
                    <!-- List of users -->
                </tbody>
            </table>
            <button id="add-user-btn" class="btn btn-primary">Add User</button>
        </div>
    </div>

    <footer class="text-center mt-5 mb-3">
        <small>Created by Victoria Emukperuo</small>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
